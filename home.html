<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple GBP & Crypto Converter</title>
  <meta name="description" content="Fast, privacy-friendly currency and crypto converter: GBP â‡„ USD/EUR and live BTC/ETH/PEPE in GBP.">
  <meta name="robots" content="index, follow">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3EðŸ’·%3C/text%3E%3C/svg%3E">
  <!-- TailwindCSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Minimal focus style for accessibility */
    :focus { outline: 3px solid #a3e635; outline-offset: 2px; }
  </style>
  
  <!-- Structured data for basic SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Simple GBP & Crypto Converter",
    "url": "https://example.com/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://example.com/?q={query}",
      "query-input": "required name=query"
    }
  }
  </script>
</head>
<body class="bg-slate-50 text-slate-900">
  <header class="sticky top-0 z-10 bg-white/80 backdrop-blur border-b border-slate-200">
    <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-xl sm:text-2xl font-extrabold tracking-tight">Simple GBP & Crypto Converter</h1>
      <nav class="text-sm hidden sm:flex gap-4">
        <a href="#converter" class="hover:underline">Currency</a>
        <a href="#crypto" class="hover:underline">Crypto</a>
        <a href="#faq" class="hover:underline">FAQ</a>
      </nav>
    </div>
  </header>

  <!-- Hero / USP -->
  <section class="max-w-4xl mx-auto p-4 sm:p-6">
    <div class="rounded-2xl p-6 sm:p-8 bg-gradient-to-br from-sky-50 to-emerald-50 border border-slate-200 shadow">
      <h2 class="text-2xl sm:text-3xl font-bold mb-2">Fast, privacyâ€‘friendly conversions</h2>
      <p class="text-slate-700">GBP â‡„ USD/EUR with live rates. Quick crypto glance for <strong>BTC</strong>, <strong>ETH</strong>, and <strong>PEPE</strong>. No signâ€‘up. No cookies. Just numbers.</p>
    </div>
  </section>

  <!-- Monetization: Affiliate / Ad placeholder -->
  <section aria-label="Support" class="max-w-4xl mx-auto px-4">
    <div class="rounded-2xl border border-slate-200 bg-white shadow p-4 flex flex-col sm:flex-row items-center justify-between gap-3">
      <div class="text-sm">
        <p class="font-semibold">Support this free tool</p>
        <p class="text-slate-600">If you find it useful, use one of the referral links below or buy me a coffee â˜•.</p>
      </div>
      <div class="flex flex-wrap gap-2">
        <!-- Replace with your actual referral URLs -->
        <a href="#" rel="sponsored noopener" class="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Wise referral</a>
        <a href="#" rel="sponsored noopener" class="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Revolut referral</a>
        <a href="#" rel="sponsored noopener" class="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Kraken/Coinbase</a>
        <a href="https://www.buymeacoffee.com/" rel="noopener" class="px-3 py-2 rounded-xl border border-amber-200 bg-amber-50 hover:bg-amber-100">Buy me a coffee</a>
      </div>
    </div>

    <!-- Optional AdSense placeholder (needs site approval to work) -->
    <div class="mt-4 flex justify-center">
      <div class="w-full sm:w-[728px] h-[90px] rounded-xl border border-dashed border-slate-300 bg-slate-100 grid place-items-center text-slate-500 text-sm">
        <!-- Replace with real AdSense code once approved -->
        Ad space (728Ã—90)
      </div>
    </div>
  </section>

  <!-- Converter -->
  <main id="converter" class="max-w-4xl mx-auto p-4 sm:p-6">
    <div class="rounded-2xl border border-slate-200 bg-white shadow">
      <div class="p-4 sm:p-6 border-b border-slate-200 flex items-center justify-between gap-2">
        <h2 class="text-xl font-bold">Currency Converter</h2>
        <button id="swapBtn" class="text-sm px-3 py-2 rounded-xl border border-slate-200 hover:bg-slate-50" aria-label="Swap currencies">Swap</button>
      </div>
      <div class="p-4 sm:p-6 grid sm:grid-cols-2 gap-4">
        <label class="block">
          <span class="text-sm text-slate-600">Amount</span>
          <input id="amount" type="number" inputmode="decimal" step="0.01" value="100" class="mt-1 w-full rounded-xl border border-slate-300 px-3 py-2" />
        </label>
        <div class="grid grid-cols-2 gap-3">
          <label class="block">
            <span class="text-sm text-slate-600">From</span>
            <select id="from" class="mt-1 w-full rounded-xl border border-slate-300 px-3 py-2"></select>
          </label>
          <label class="block">
            <span class="text-sm text-slate-600">To</span>
            <select id="to" class="mt-1 w-full rounded-xl border border-slate-300 px-3 py-2"></select>
          </label>
        </div>
        <div class="sm:col-span-2">
          <button id="convertBtn" class="w-full sm:w-auto px-4 py-2 rounded-xl bg-emerald-600 text-white font-semibold hover:bg-emerald-700">Convert</button>
        </div>
        <div class="sm:col-span-2">
          <output id="result" class="block text-lg font-semibold"></output>
          <p id="rateInfo" class="text-sm text-slate-600"></p>
        </div>
        <div class="sm:col-span-2 text-sm text-slate-600">
          <p class="mb-1">Quick links:</p>
          <div class="flex flex-wrap gap-2">
            <button data-quick="GBP|USD" class="quick-btn px-3 py-1 rounded-lg border hover:bg-slate-50">GBP â†’ USD</button>
            <button data-quick="USD|GBP" class="quick-btn px-3 py-1 rounded-lg border hover:bg-slate-50">USD â†’ GBP</button>
            <button data-quick="EUR|GBP" class="quick-btn px-3 py-1 rounded-lg border hover:bg-slate-50">EUR â†’ GBP</button>
            <button data-quick="GBP|EUR" class="quick-btn px-3 py-1 rounded-lg border hover:bg-slate-50">GBP â†’ EUR</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Crypto mini-tracker -->
  <section id="crypto" class="max-w-4xl mx-auto p-4 sm:p-6">
    <div class="rounded-2xl border border-slate-200 bg-white shadow p-4 sm:p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-xl font-bold">Crypto Prices Today</h2>
        <button id="refreshCrypto" class="text-sm px-3 py-2 rounded-xl border border-slate-200 hover:bg-slate-50">Refresh</button>
      </div>
      <div id="cryptoGrid" class="grid sm:grid-cols-3 gap-4"></div>
      <p class="text-xs text-slate-500 mt-3">Data: CoinGecko (free). Rates may be delayed. Always do your own research.</p>
    </div>
  </section>

  <!-- SEO content blocks for long-tail queries -->
  <section class="max-w-4xl mx-auto p-4 sm:p-6 grid gap-4">
    <article class="rounded-2xl border border-slate-200 bg-white shadow p-4">
      <h3 class="font-semibold text-lg">GBP to USD converter</h3>
      <p class="text-slate-700">Use the currency converter above to instantly convert British Pounds (GBP) to US Dollars (USD) using live rates updated throughout the day.</p>
    </article>
    <article class="rounded-2xl border border-slate-200 bg-white shadow p-4">
      <h3 class="font-semibold text-lg">BTC to GBP today</h3>
      <p class="text-slate-700">The crypto miniâ€‘tracker shows the latest Bitcoin (BTC) price in GBP and USD, alongside Ethereum (ETH) and PEPE.</p>
    </article>
    <article id="faq" class="rounded-2xl border border-slate-200 bg-white shadow p-4">
      <h3 class="font-semibold text-lg">FAQ</h3>
      <details class="mt-2">
        <summary class="cursor-pointer font-medium">Where do the currency rates come from?</summary>
        <p class="pl-4 pt-2 text-slate-700">Fiat FX rates are fetched from <code>exchangerate.host</code> (free, no API key). Crypto rates are fetched from CoinGecko.</p>
      </details>
      <details class="mt-2">
        <summary class="cursor-pointer font-medium">Do you store personal data?</summary>
        <p class="pl-4 pt-2 text-slate-700">No. This page runs in your browser. We donâ€™t use cookies. Conversions are calculated clientâ€‘side.</p>
      </details>
      <details class="mt-2">
        <summary class="cursor-pointer font-medium">How does this site make money?</summary>
        <p class="pl-4 pt-2 text-slate-700">Through small ad placements and affiliate referrals to payment/crypto providers. Using those links supports the site at no extra cost to you.</p>
      </details>
    </article>
  </section>

  <footer class="max-w-4xl mx-auto p-6 text-center text-sm text-slate-600">
    <p>&copy; <span id="year"></span> Simple GBP & Crypto Converter Â· <a class="underline" href="#">Privacy</a></p>
    <p class="mt-1">FX by exchangerate.host Â· Crypto by CoinGecko</p>
  </footer>

  <script>
    const fxEndpoint = 'https://api.exchangerate.host/latest';
    const cryptoEndpoint = 'https://api.coingecko.com/api/v3/simple/price';

    const amountEl = document.getElementById('amount');
    const fromEl = document.getElementById('from');
    const toEl = document.getElementById('to');
    const resultEl = document.getElementById('result');
    const rateInfoEl = document.getElementById('rateInfo');
    const swapBtn = document.getElementById('swapBtn');
    const convertBtn = document.getElementById('convertBtn');
    const yearEl = document.getElementById('year');

    const popularFiat = ['GBP','USD','EUR','JPY','CHF','AUD','CAD'];

    yearEl.textContent = new Date().getFullYear();

    // Load saved preferences
    function loadPrefs() {
      try {
        const prefs = JSON.parse(localStorage.getItem('prefs') || '{}');
        return prefs;
      } catch { return {}; }
    }
    function savePrefs(prefs) {
      localStorage.setItem('prefs', JSON.stringify(prefs));
    }

    async function fetchFx(base='GBP') {
      const url = `${fxEndpoint}?base=${encodeURIComponent(base)}`;
      const res = await fetch(url, { headers: { 'accept': 'application/json' } });
      if (!res.ok) throw new Error('FX fetch failed');
      return res.json();
    }

    async function initFx() {
      const prefs = loadPrefs();
      const base = prefs.base || 'GBP';
      try {
        const data = await fetchFx(base);
        const codes = Object.keys(data.rates);
        const list = Array.from(new Set([...popularFiat, ...codes])).sort();

        // Populate selects
        fromEl.innerHTML = list.map(c => `<option ${c===base? 'selected':''}>${c}</option>`).join('');
        const defaultTo = prefs.to || (base === 'GBP' ? 'USD' : 'GBP');
        toEl.innerHTML = list.map(c => `<option ${c===defaultTo? 'selected':''}>${c}</option>`).join('');

        // Initial convert
        convert(data);
      } catch (err) {
        resultEl.textContent = 'Could not load FX rates. Try again later.';
        console.error(err);
      }
    }

    function formatMoney(val, code) {
      try {
        return new Intl.NumberFormat(undefined, { style: 'currency', currency: code }).format(val);
      } catch {
        return `${val.toFixed(2)} ${code}`;
      }
    }

    function convert(preloaded=null) {
      const base = fromEl.value;
      const target = toEl.value;
      const amt = parseFloat(amountEl.value || '0');
      if (!amt || amt < 0) { resultEl.textContent = 'Enter a positive amount'; return; }

      const doCalc = (data) => {
        const rate = data.rates[target];
        if (!rate) { resultEl.textContent = 'Unsupported pair'; return; }
        const out = amt * rate;
        resultEl.textContent = `${formatMoney(amt, base)} = ${formatMoney(out, target)}`;
        const ts = new Date(data.date);
        rateInfoEl.textContent = `Rate: 1 ${base} = ${rate.toFixed(6)} ${target} Â· ${ts.toDateString()}`;
        savePrefs({ base, to: target });
      };

      if (preloaded) return doCalc(preloaded);
      fetchFx(base).then(doCalc).catch(err => {
        console.error(err);
        resultEl.textContent = 'Conversion failed.';
      });
    }

    swapBtn.addEventListener('click', () => {
      const a = fromEl.value; const b = toEl.value;
      fromEl.value = b; toEl.value = a;
      convert();
    });
    convertBtn.addEventListener('click', () => convert());

    // Quick links
    document.querySelectorAll('.quick-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const [a,b] = btn.dataset.quick.split('|');
        fromEl.value = a; toEl.value = b; convert();
      });
    });

    // Crypto section
    const cryptoGrid = document.getElementById('cryptoGrid');
    const refreshCrypto = document.getElementById('refreshCrypto');

    async function fetchCrypto() {
      const ids = ['bitcoin','ethereum','pepe'];
      const vs = ['gbp','usd','eur'];
      const url = `${cryptoEndpoint}?ids=${ids.join(',')}&vs_currencies=${vs.join(',')}&include_24hr_change=true`;
      const res = await fetch(url, { headers: { 'accept': 'application/json' } });
      if (!res.ok) throw new Error('Crypto fetch failed');
      return res.json();
    }

    function chip(change) {
      const sign = change >= 0 ? '+' : '';
      const cls = change >= 0 ? 'bg-emerald-50 text-emerald-700 border-emerald-200' : 'bg-rose-50 text-rose-700 border-rose-200';
      return `<span class="text-xs px-2 py-1 rounded-full border ${cls}">${sign}${change.toFixed(2)}% 24h</span>`;
    }

    function cryptoCard(symbol, data) {
      const name = symbol.toUpperCase();
      const gbp = data.gbp;
      const usd = data.usd;
      const chg = data.gbp_24h_change ?? 0;
      return `
        <div class="rounded-2xl border border-slate-200 p-4 shadow bg-white">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">${name}</h3>
            ${chip(chg)}
          </div>
          <p class="text-2xl font-bold mt-2">${formatMoney(gbp, 'GBP')}</p>
          <p class="text-sm text-slate-600">${formatMoney(usd, 'USD')}</p>
          <div class="mt-3 text-xs text-slate-500">Data: CoinGecko</div>
        </div>`;
    }

    async function renderCrypto() {
      cryptoGrid.innerHTML = '<div class="col-span-full text-slate-600">Loadingâ€¦</div>';
      try {
        const data = await fetchCrypto();
        cryptoGrid.innerHTML = [
          cryptoCard('btc', data.bitcoin),
          cryptoCard('eth', data.ethereum),
          cryptoCard('pepe', data.pepe)
        ].join('');
      } catch (err) {
        console.error(err);
        cryptoGrid.innerHTML = '<div class="col-span-full text-rose-600">Could not load crypto prices.</div>';
      }
    }

    refreshCrypto.addEventListener('click', renderCrypto);

    // Init
    initFx();
    renderCrypto();
  </script>
</body>
</html>
